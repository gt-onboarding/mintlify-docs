---
title: "故障排查"
description: "API 参考的常见问题"
---

如果你的 API 页面显示异常，请检查以下常见配置问题：

<AccordionGroup>
  <Accordion title="我的所有 OpenAPI 页面都是空白的">
    在这种情况下，很可能是 Mintlify 找不到你的 OpenAPI 文档，或该文档无效。

    在本地运行 `mint dev` 应该能暴露出其中一些问题。

    要验证你的 OpenAPI 文档能否通过校验：

    1. 访问[此验证器](https://editor.swagger.io/)
    2. 切换到 “Validate text” 选项卡
    3. 粘贴你的 OpenAPI 文档
    4. 点击 “Validate it!”

    如果下方出现的文本框带有绿色边框，则表示你的文档已通过校验。
    这是 Mintlify 用于校验 OpenAPI 文档的同一套校验工具包，因此如果你的文档
    在此处通过校验，很大概率问题在其他地方。

    另外，Mintlify 不支持 OpenAPI 2.0。若你的文档使用该版本规范，
    你可能会遇到此问题。你可以在 [editor.swagger.io](https://editor.swagger.io/) 上转换文档（Edit &gt; Convert to OpenAPI 3）：

    <Frame>
      ![Swagger Editor 的截图，展开了 Edit 菜单并高亮显示 “Convert to OpenAPI 3” 菜单项。](/images/convert-oas-3.png)
    </Frame>
  </Accordion>

  <Accordion title="我的某个 OpenAPI 页面完全空白">
    这通常是由页面元数据中的 `openapi` 字段拼写错误引起的。请确保
    HTTP 方法和路径与 OpenAPI 文档中的 HTTP 方法和路径完全一致。

    以下是可能出错的示例：

    ```mdx get-user.mdx
    ---
    openapi: "GET /users/{id}/"
    ---
    ```

    ```yaml openapi.yaml
    paths:
      "/users/{id}":
        get: ...
    ```

    请注意，`openapi` 字段中的路径以斜杠结尾，而 OpenAPI 文档中的路径则没有。

    另一个常见问题是文件名拼写错误。如果你在 `openapi` 字段中指定了某个特定的 OpenAPI 文档，请确保文件名正确。比如，如果你有两个 OpenAPI 文档 `openapi/v1.json` 和 `openapi/v2.json`，你的元数据可能如下所示：

    ```mdx api-reference/v1/users/get-user.mdx
    ---
    openapi: "v1 GET /users/{id}"
    ---
    ```
  </Accordion>

  <Accordion title="API 操作台的请求无法运行">
    如果你配置了自定义域名，问题可能出在你的反向代理上。默认情况下，通过 API 操作台 发起的请求会先向文档站点的 `/_mintlify/api/request` 路径发送一个 `POST` 请求。如果你的反向代理被设置为只允许 `GET` 请求，这些请求都会失败。要解决此问题，请将反向代理配置为允许对 `/_mintlify/api/request` 路径的 `POST` 请求。

    或者，如果反向代理无法接受 `POST` 请求，你可以按照[设置文档](/zh/organize/settings#param-proxy)的说明，在 `docs.json` 中通过 `api.playground.proxy` 配置让 Mintlify 直接向你的后端发送请求。使用该配置时，你需要在服务器上配置 CORS，因为请求将直接来自用户的浏览器，而不是通过你的代理。
  </Accordion>

  <Accordion title="未生成 OpenAPI 导航项对应的页面">
    如果你使用的是 OpenAPI 导航配置，但页面没有生成，请检查以下常见问题：

    1. **缺少默认 OpenAPI 规范**：请确保在导航元素中设置了 `openapi` 字段：

    ```json {5}
    "navigation": {
      "groups": [
        {
          "group": "API 参考",
          "openapi": "/path/to/openapi.json",
          "pages": [
            "GET /users",
            "POST /users"
          ]
        }
      ]
    }
    ```

    2. **OpenAPI 规范继承**：如果使用嵌套导航，请确保子级分组继承正确的 OpenAPI 规范，或为其单独指定一份。

    3. **验证问题**：使用 `mint openapi-check <path-to-openapi-file>` 验证你的 OpenAPI 文档是否有效。
  </Accordion>

  <Accordion title="有些 OpenAPI 操作会出现在导航中，而另一些则不会">
    1. **隐藏的操作**：在你的 OpenAPI 规范中标记为 `x-hidden: true` 的操作不会出现在自动生成的导航中。
    2. **无效的操作**：在 OpenAPI 规范中存在校验错误的操作可能会被跳过。请检查你的 OpenAPI 文档是否有语法错误。
    3. **手动与自动包含**：如果你从某个 OpenAPI 规范中引用了任意端点，只有被显式引用的操作会出现在导航中，其他页面不会被自动添加。这也包括在子级导航元素中被引用的操作。
  </Accordion>

  <Accordion title="混合导航（OpenAPI 与 MDX 页面）无法正常运行">
    在导航中将 OpenAPI 操作与常规文档页面结合使用时：

    1. **文件冲突**：同一操作下不能同时存在一个 `MDX` 文件和一个导航项。比如，如果你有 `get-users.mdx`，就不要在导航中再包含 `"GET /users"`。如果需要一个与操作同名的文件，请为该端点使用 `x-mint` 扩展，将 href 指向其他位置。
    2. **路径解析**：与 OpenAPI 操作不匹配的导航项会被视为文件路径。请确保你的 `MDX` 文件位于预期位置。
    3. **大小写敏感**：OpenAPI 操作匹配区分大小写。请确保在导航项中 HTTP 方法使用大写。
  </Accordion>
</AccordionGroup>