---
title: "MDX 设置"
description: "使用 `MDX` 为你的 API 端点生成文档页面"
---

你可以在单独的 `MDX` 文件中手动定义 API 端点，而不使用 OpenAPI 规范。此方法为自定义内容提供灵活性，但对于大多数项目，我们建议从 OpenAPI 规范文件生成 API 文档，因为它更易维护且功能更完善。不过，为 API 创建 `MDX` 页面在记录小型 API 或进行原型开发时很有用。

要使用 `MDX` 为 API 端点生成页面，请在 `docs.json` 中配置 API 设置，为每个端点创建单独的 `MDX` 文件，并使用 `<ParamFields />` 等组件定义参数。基于这些定义，Mintlify 将生成交互式 API 操作台、请求示例和响应示例。

<Steps>
  <Step title="配置你的 API">
    在 `docs.json` 文件中定义基础 URL 和认证方式：

    ```json
     "api": {
      "mdx": {
        "server": "https://mintlify.com/api", // string array for multiple base URLs
        "auth": {
          "method": "key",
          "name": "x-api-key" // options: bearer, basic, key.
        }
      }
    }
    ```

    如果你想隐藏 API 操作台，请使用 `display` 字段。隐藏操作台时无需包含认证方式。

    ```json
    "api": {
      "playground": {
        "display": "none"
      }
    }
    ```

    在[设置](/zh/organize/settings#api-configurations)中查看完整的 API 配置列表。
  </Step>

  <Step title="创建端点页面">
    每个 API 端点页面都应有对应的 `MDX` 文件。在每个文件的顶部定义 `title` 和 `api`：

    ```mdx
    ---
    title: 'Create new user'
    api: 'POST https://api.mintlify.com/user'
    ---
    ```

    你可以通过将参数名添加到路径并用 `{}` 包裹来指定路径参数：

    ```bash
    https://api.example.com/v1/endpoint/{userId}
    ```

    <Note>
      如果在 `docs.json` 中配置了 `server` 字段，你可以使用类似 `/v1/endpoint` 的相对路径。
    </Note>

    你可以在 frontmatter 中添加 `playground`，以覆盖该页面的 API 操作台全局显示模式：

    ```mdx
    ---
    title: 'Create new user'
    api: 'POST https://api.mintlify.com/user'
    playground: 'none'
    ---
    ```

    * `playground: 'interactive'` - 显示交互式操作台。
    * `playground: 'simple'` - 显示可复制的端点，不包含操作台。
    * `playground: 'none'` - 隐藏操作台。
  </Step>

  <Step title="将端点添加到文档">
    通过将路径添加到 `docs.json` 中的 `navigation` 字段，把端点页面加入侧边栏。参见[导航](/zh/organize/navigation)了解如何组织文档结构。
  </Step>
</Steps>

<div id="enabling-authentication">
  ## 启用身份验证
</div>

你可以在 `docs.json` 中添加身份验证方法，以在所有页面全局启用；也可以为单个页面单独设置。

如果同时配置了全局方法和页面方法，以页面为准，页面的身份验证方法会覆盖全局方法。

<div id="bearer-token">
  ### Bearer 令牌
</div>

<CodeGroup>
  ```json docs.json
  "api": {
      "mdx": {
        "auth": {
          "method": "bearer"
        }
      }
  }
  ```

  ```mdx Page Metadata
  ---
  title: "你的页面标题"
  authMethod: "bearer"
  ---
  ```
</CodeGroup>

<div id="basic-authentication">
  ### 基本身份验证
</div>

<CodeGroup>
  ```json docs.json
  "api": {
      "mdx": {
        "auth": {
          "method": "basic"
        }
      }
  }
  ```

  ```mdx Page Metadata
  ---
  title: "页面标题"
  authMethod: "basic"
  ---
  ```
</CodeGroup>

<div id="api-key">
  ### API 密钥
</div>

<CodeGroup>
  ```json docs.json
  "api": {
      "mdx": {
        "auth": {
          "method": "key",
          "name": "x-api-key"
        }
      }
  }
  ```

  ```mdx Page Metadata
  ---
  title: "你的页面标题"
  authMethod: "key"
  ---
  ```
</CodeGroup>

<div id="none">
  ### None
</div>

在 docs.json 中设置默认身份验证后，可以在特定端点将 `none` 身份验证方式用于禁用身份验证。

<CodeGroup>
  ```mdx Page Metadata
  ---
  title: "Your page title"
  authMethod: "none"
  ---
  ```
</CodeGroup>