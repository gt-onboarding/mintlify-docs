---
title: "GitLab"
description: "Synchronisez votre documentation avec un dépôt GitLab"
---

Nous utilisons des jetons d’accès et des webhooks pour authentifier et synchroniser les modifications entre GitLab et Mintlify.

- Mintlify utilise des jetons d’accès pour récupérer des informations depuis GitLab.
- GitLab utilise des webhooks pour avertir Mintlify lorsque des modifications sont apportées, ce qui permet des déploiements de prévisualisation pour les demandes de fusion.

<div id="set-up-the-connection">
  ## Configurer la connexion
</div>

<Note>
  **Clonage HTTPS requis** : Votre projet GitLab doit avoir le clonage HTTPS activé pour que Mintlify puisse accéder à votre dépôt. Vous pouvez le vérifier dans GitLab en allant dans **Settings** de votre projet > **General** > section **Visibility and access controls**.
</Note>

<Steps>
  <Step title="Find your project ID">
    Dans votre projet GitLab, accédez à **Settings** > **General** et repérez votre **Project ID**.
    <Frame>
      <img src="/images/gitlab/gitlab-project-id.png" alt="La page General Settings du tableau de bord GitLab, avec le Project ID mis en évidence." />
    </Frame>
  </Step>
  <Step title="Generate an access token">
    Accédez à **Settings** > **Access Tokens** et sélectionnez **Add new token**.
    
    Configurez le jeton avec les paramètres suivants :
    - **Name** : Mintlify
    - **Role** : Maintainer (requis pour les dépôts privés)
    - **Scopes** : `api` et `read_api`
    
    Cliquez sur **Create project access token** et copiez le jeton.

    <Note>
      Si les Project Access Tokens ne sont pas disponibles, vous pouvez utiliser un Personal Access Token à la place. Notez que les Personal Access Tokens expirent et doivent être renouvelés.
    </Note>

    <Frame>
      <img src="/images/gitlab/gitlab-project-access-token.png" alt="La page Access tokens dans le tableau de bord GitLab, avec les paramètres à configurer pour Mintlify mis en évidence." />
    </Frame>

  </Step>
  <Step title="Set up the connection">
    Dans le [tableau de bord Mintlify](https://dashboard.mintlify.com/settings/deployment/git-settings) :
    1. Saisissez votre Project ID et votre access token.
    2. Renseignez les autres configurations requises.
    3. Cliquez sur **Save Changes**.
    <Frame>
      <img src="/images/gitlab/gitlab-config.png" alt="La page Git Settings dans le tableau de bord Mintlify, avec les paramètres de configuration GitLab mis en évidence." />
    </Frame>
  </Step>
</Steps>

<div id="create-the-webhook">
  ## Créer le webhook
</div>

Les webhooks nous permettent de recevoir des événements lorsque des modifications sont apportées afin de déclencher automatiquement des déploiements.

<Steps>
  <Step title="Accédez à Settings > Webhooks et cliquez sur « Add new Webhook »">
    <Frame>
      <img src="/images/gitlab/gitlab-webhook.png" alt="Capture d’écran de la page Webhooks dans le tableau de bord GitLab." />
    </Frame>
  </Step>
  <Step title="Configurer l’URL et le webhook">
    Dans le champ « URL », saisissez l’endpoint `https://leaves.mintlify.com/gitlab-webhook` et nommez le webhook « Mintlify ».

  </Step>
  <Step title="Coller le jeton">
    Collez le jeton Webhook généré après la configuration de la connexion.
    <Frame>
      <img src="/images/gitlab/gitlab-show-webtoken.png" alt="Capture d’écran de la connexion GitLab dans le tableau de bord Mintlify. Le bouton Show Webtoken est mis en évidence." />
    </Frame>
  </Step>
  <Step title="Sélectionner les événements">
    Sélectionnez ces événements pour déclencher le webhook :
    - **Push events** (All branches)
    - **Merge requests events**
      
    Une fois terminé, cela devrait ressembler à ceci :
    <Frame>
      <img src="/images/gitlab/gitlab-project-webtoken.png" alt="La page Webhook dans le tableau de bord GitLab. Les paramètres à configurer pour Mintlify sont mis en évidence." />
    </Frame>
  </Step>
  <Step title="Tester le webhook">
    Après avoir créé le webhook, cliquez sur le menu déroulant « Test » et sélectionnez « Push events » pour envoyer un payload d’exemple et vérifier que la configuration est correcte. Le message « Hook executed successfully: HTTP 200 » s’affichera si tout est en ordre.

    Cela vous aidera à confirmer que tout fonctionne correctement et que votre documentation se synchronisera bien avec votre dépôt GitLab.
    <Frame>
      <img src="/images/gitlab/gitlab-project-webtoken-test.png" alt="Capture d’écran de la page GitLab Webhooks. L’élément de menu « Push events » est mis en évidence dans le menu « Test »." />
    </Frame>

  </Step>
</Steps>