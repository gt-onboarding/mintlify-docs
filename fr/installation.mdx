---
title: "Installation de la CLI"
description: "Utilisez la CLI pour prévisualiser et gérer votre documentation en local"
---

<img className="block dark:hidden my-0 pointer-events-none" src="/images/installation/local-development-light.png" alt="Graphique décoratif représentant la CLI." />

<img className="hidden dark:block my-0 pointer-events-none" src="/images/installation/local-development-dark.png" alt="Graphique décoratif représentant la CLI." />

Utilisez la CLI pour prévisualiser votre documentation en local pendant que vous rédigez et modifiez. Visualisez les changements en temps réel avant le déploiement, testez l’apparence et les fonctionnalités de votre site de documentation, et détectez les problèmes comme les liens brisés ou d’accessibilité.

La CLI propose également des utilitaires pour gérer votre documentation, notamment des commandes pour renommer des fichiers, valider des spécifications OpenAPI et migrer du contenu entre différents formats.

<div id="install-the-cli">
  ## Installer la CLI
</div>

<Info>
  **Pré-requis** : la CLI nécessite [Node.js](https://nodejs.org/en) v19 ou une version supérieure.
</Info>

<Steps>
  <Step title="Installer la CLI">
    Exécutez la commande suivante pour installer la [CLI](https://www.npmjs.com/package/mint) :

    <CodeGroup>
      ```bash npm
      npm i -g mint
      ```

      ```bash pnpm
      pnpm add -g mint
      ```
    </CodeGroup>
  </Step>

  <Step title="Aperçu en local">
    Accédez à votre répertoire de documentation (là où se trouve votre fichier `docs.json`) et exécutez la commande suivante :

    ```bash
    mint dev
    ```

    Un aperçu local de votre documentation sera disponible à l’adresse `http://localhost:3000`.
  </Step>
</Steps>

Sinon, si vous ne souhaitez pas installer la CLI globalement, vous pouvez exécuter un script à usage unique :

```bash
npx mint dev
```

<div id="updates">
  ## Mises à jour
</div>

Si votre aperçu local n’est pas synchronisé avec ce que vous voyez en ligne dans la version de production, mettez à jour votre CLI locale :

```bash
mint update
```

Si la commande `mint update` n’est pas disponible dans votre version locale, réinstallez la CLI avec la dernière version :

<CodeGroup>
  ```bash npm
  npm i -g mint@latest
  ```

  ```bash pnpm
  pnpm add -g mint@latest
  ```
</CodeGroup>

<div id="custom-ports">
  ## Ports personnalisés
</div>

Par défaut, la CLI utilise le port 3000. Vous pouvez configurer le port à l’aide de l’option `--port`. Pour exécuter la CLI sur le port 3333, par exemple, utilisez cette commande :

```bash
mint dev --port 3333
```

Si vous tentez d’utiliser un port déjà occupé, la CLI passera au prochain port disponible :

```mdx
Le port 3000 est déjà utilisé. Essai avec le port 3001.
```

<div id="preview-as-a-specific-group">
  ## Prévisualiser en tant que groupe spécifique
</div>

Si vous utilisez l’authentification partielle pour restreindre l’accès à votre documentation, vous pouvez prévisualiser en tant que groupe d’authentification spécifique à l’aide de l’option `--groups [groupname]`.

Par exemple, si vous avez un groupe nommé `admin`, vous pouvez prévisualiser en tant que membre de ce groupe avec la commande :

```bash
mint dev --groups admin
```

<div id="additional-commands">
  ## Commandes supplémentaires
</div>

<div id="find-broken-links">
  ### Rechercher les liens cassés
</div>

Identifiez les liens internes cassés avec la commande suivante :

```bash
mint broken-links
```

<div id="find-accessibility-issues">
  ### Identifier les problèmes d’accessibilité
</div>

Testez les rapports de contraste des couleurs et recherchez les textes alternatifs manquants pour les images et les vidéos de votre documentation avec la commande suivante :

```bash
mint a11y
```

<div id="check-openapi-spec">
  ### Vérifier la spécification OpenAPI
</div>

Vérifiez votre fichier OpenAPI à la recherche d’erreurs avec la commande suivante :

```bash
mint openapi-check <nom du fichier OpenAPI ou URL>
```

Indiquez un nom de fichier (par exemple : `./openapi.yaml`) ou une URL (par exemple : `https://petstore3.swagger.io/api/v3/openapi.json`).

<div id="rename-files">
  ### Renommer des fichiers
</div>

Renommez les fichiers et mettez à jour toutes leurs références avec la commande suivante :

```bash
mint rename <chemin/vers/ancien-nom-de-fichier> <chemin/vers/nouveau-nom-de-fichier>
```

<div id="migrate-mdx-endpoint-pages">
  ### Migrer les pages d’endpoint MDX
</div>

Migrez les pages d’endpoint MDX vers des pages générées automatiquement à partir de votre spécification OpenAPI avec la commande suivante :

```bash
mint migrate-mdx
```

Cette commande convertit les pages d’endpoint MDX individuelles en pages générées automatiquement définies dans votre `docs.json`, déplace le contenu MDX vers l’extension `x-mint` de votre spécification OpenAPI et met à jour votre navigation. Consultez [Migration depuis MDX](/fr/guides/migrating-from-mdx) pour plus de détails.

<div id="formatting">
  ## Mise en forme
</div>

Lors du développement en local, nous recommandons d’utiliser des extensions dans votre IDE pour reconnaître et formater les fichiers `MDX`.

Si vous utilisez Cursor, Windsurf ou VS Code, nous recommandons l’[extension MDX pour VS Code](https://marketplace.visualstudio.com/items?itemName=unifiedjs.vscode-mdx) pour la coloration syntaxique, ainsi que [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) pour le formatage du code.

Si vous utilisez JetBrains, nous recommandons le [plugin MDX pour IntelliJ IDEA](https://plugins.jetbrains.com/plugin/14944-mdx) pour la coloration syntaxique, et de configurer [Prettier](https://prettier.io/docs/webstorm) pour le formatage du code.

<div id="troubleshooting">
  ## Dépannage
</div>

<AccordionGroup>
  <Accordion title="Erreur : impossible de charger le module « sharp » avec l’environnement d’exécution darwin-arm64">
    Cela peut être dû à une version obsolète de Node. Essayez ce qui suit :

    1. Désinstallez la version actuellement installée du CLI mint : `npm uninstall -g mint`
    2. Mettez à niveau Node.js.
    3. Réinstallez le CLI mint : `npm install -g mint`
  </Accordion>

  <Accordion title="Problème : erreur inconnue">
    **Solution :** Accédez à la racine de votre appareil et supprimez le dossier `~/.mintlify`. Ensuite, exécutez à nouveau `mint dev`.
  </Accordion>

  <Accordion title="Erreur : permission refusée">
    Cela est dû à l’absence des autorisations requises pour installer globalement des packages Node.

    **Solution :** Essayez d’exécuter `sudo npm i -g mint`. Votre mot de passe vous sera demandé ; il s’agit de celui que vous utilisez pour déverrouiller votre ordinateur.
  </Accordion>

  <Accordion title="L’aperçu local n’a pas le même rendu que mes docs sur le Web">
    Cela est probablement dû à une version obsolète du CLI.

    **Solution :** Exécutez `mint update` pour récupérer les dernières modifications.
  </Accordion>

  <Accordion title="mintlify vs. package mint">
    Si vous rencontrez des problèmes avec le package CLI, exécutez d’abord `npm ls -g`. Cette commande affiche les packages installés globalement sur votre machine.

    Si vous n’utilisez pas npm ou ne le voyez pas dans la liste avec -g, essayez `which mint` pour localiser l’installation.

    Si vous avez un package nommé `mint` et un package nommé `mintlify` installés, vous devez désinstaller `mintlify`.

    1. Désinstallez l’ancien package :

    ```bash
      npm uninstall -g mintlify
    ```

    2. Videz votre cache npm :

    ```bash
      npm cache clean --force
    ```

    3. Réinstallez le nouveau package :

    ```bash
    npm i -g mint
    ```
  </Accordion>
</AccordionGroup>