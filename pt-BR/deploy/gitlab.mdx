---
title: "GitLab"
description: "Sincronize sua documentação com um repositório do GitLab"
---

Usamos tokens de acesso e webhooks para autenticar e sincronizar alterações entre o GitLab e o Mintlify.

- O Mintlify usa tokens de acesso para puxar informações do GitLab.
- O GitLab usa webhooks para notificar o Mintlify quando alterações são feitas, possibilitando implantações de pré-visualização para merge requests.

<div id="set-up-the-connection">
  ## Configure a conexão
</div>

<Note>
  **Clonagem via HTTPS obrigatória**: Seu projeto no GitLab deve ter a clonagem via HTTPS ativada para que a Mintlify acesse seu repositório. Você pode verificar isso no GitLab em **Settings** > **General** > seção **Visibility and access controls**.
</Note>

<Steps>
  <Step title="Encontre o ID do seu projeto">
    No seu projeto no GitLab, vá em **Settings** > **General** e localize o **Project ID**.
    <Frame>
      <img src="/images/gitlab/gitlab-project-id.png" alt="A página General Settings no painel do GitLab. O Project ID está destacado." />
    </Frame>
  </Step>
  <Step title="Gere um token de acesso">
    Vá em **Settings** > **Access Tokens** e selecione **Add new token**.
    
    Configure o token com as seguintes opções:
    - **Name**: Mintlify
    - **Role**: Maintainer (obrigatório para repositórios privados)
    - **Scopes**: `api` e `read_api`
    
    Clique em **Create project access token** e copie o token.

    <Note>
      Se Project Access Tokens não estiver disponível, você pode usar um Personal Access Token. Observe que Personal Access Tokens expiram e precisam ser atualizados periodicamente.
    </Note>

    <Frame>
      <img src="/images/gitlab/gitlab-project-access-token.png" alt="A página Access Tokens no painel do GitLab. As configurações a serem definidas para a Mintlify estão destacadas." />
    </Frame>

  </Step>
  <Step title="Configure a conexão">
    No [painel da Mintlify](https://dashboard.mintlify.com/settings/deployment/git-settings):
    1. Insira o ID do projeto e o token de acesso.
    2. Conclua quaisquer outras configurações necessárias.
    3. Clique em **Save Changes**.
    <Frame>
      <img src="/images/gitlab/gitlab-config.png" alt="A página Git Settings no painel da Mintlify. As configurações do GitLab estão destacadas." />
    </Frame>
  </Step>
</Steps>

<div id="create-the-webhook">
  ## Criar o webhook
</div>

Os webhooks permitem receber eventos quando alterações são feitas, para que possamos acionar implantações automaticamente.

<Steps>
  <Step title="Acesse Settings > Webhooks e clique em 'Add new Webhook'">
    <Frame>
      <img src="/images/gitlab/gitlab-webhook.png" alt="Captura de tela da página Webhooks no painel do GitLab." />
    </Frame>
  </Step>
  <Step title="Configurar URL e webhook">
    No campo "URL", insira o endpoint `https://leaves.mintlify.com/gitlab-webhook` e nomeie o webhook como "Mintlify".

  </Step>
  <Step title="Colar token">
    Cole o token do Webhook gerado após configurar a conexão.
    <Frame>
      <img src="/images/gitlab/gitlab-show-webtoken.png" alt="Captura de tela da conexão do GitLab no painel da Mintlify. O botão Show Webtoken está destacado." />
    </Frame>
  </Step>
  <Step title="Selecionar eventos">
    Selecione estes eventos para acionar o webhook:
    - **Push events** (All branches)
    - **Merge requests events**
      
    Quando terminar, deve ficar assim:
    <Frame>
      <img src="/images/gitlab/gitlab-project-webtoken.png" alt="A página de Webhooks no painel do GitLab. As configurações para a Mintlify estão destacadas." />
    </Frame>
  </Step>
  <Step title="Testar o Webhook">
    Depois de criar o Webhook, clique no menu suspenso "Test" e selecione "Push events" para enviar um payload de exemplo e verificar se a configuração está correta. A mensagem "Hook executed successfully: HTTP 200" será exibida se estiver tudo certo.

    Isso ajudará você a confirmar que tudo está funcionando e que sua documentação sincronizará corretamente com seu repositório GitLab.
    <Frame>
      <img src="/images/gitlab/gitlab-project-webtoken-test.png" alt="Captura de tela da página Webhooks do GitLab. O item de menu 'Push events' está destacado no menu 'Test'." />
    </Frame>

  </Step>
</Steps>